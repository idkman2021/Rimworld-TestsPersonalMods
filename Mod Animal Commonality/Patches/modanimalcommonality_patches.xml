<?xml version="1.0" encoding="utf-8"?>
<Patch>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.ModAnimalCommonality</modId>
        <key>testsMAC_logging</key>
        <defaultValue>false</defaultValue>
        <caseTrue>

            <Operation Class="XmlExtensions.StopwatchStart" />

        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <Operation Class="XmlExtensions.CreateDocument">
        <docName>editmode</docName>
        <xpath>Defs/XmlExtensions.SettingsMenuDef[defName="tests_animalcommonality"]/settings/li[key="testsMAC_EditMode"]/caseTrue</xpath>
        <emptyDocument>false</emptyDocument>
    </Operation>
    <Operation Class="XmlExtensions.CreateDocument">
        <docName>seemode</docName>
        <xpath>Defs/XmlExtensions.SettingsMenuDef[defName="tests_animalcommonality"]/settings/li[key="testsMAC_EditMode"]/caseFalse</xpath>
        <emptyDocument>false</emptyDocument>
    </Operation>

    <!-- Core -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_act</patchName>
        <arguments>
            <li>Core</li>
            <li>ludeon.rimworld</li>
            <li>Core</li>
        </arguments>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.ModAnimalCommonality</modId>
        <key>testsMAC_Core</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="XmlExtensions.UseSetting">
                <modId>tests.ModAnimalCommonality</modId>
                <key>testsMAC_Corek</key>
                <defaultValue>1</defaultValue>
                <apply>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[
                            defName="Bear_Grizzly" or 
                            defName="Bear_Polar" or 
                            defName="Ostrich" or 
                            defName="Emu" or 
                            defName="Cassowary" or 
                            defName="Cougar" or 
                            defName="Panther" or 
                            defName="Lynx" or 
                            defName="Cat" or 
                            defName="YorkshireTerrier" or 
                            defName="GuineaPig" or 
                            defName="LabradorRetriever" or 
                            defName="Husky" or 
                            defName="Monkey" or 
                            defName="Chicken" or 
                            defName="Duck" or 
                            defName="Turkey" or 
                            defName="Goose" or 
                            defName="Cow" or 
                            defName="Boomalope" or 
                            defName="Muffalo" or 
                            defName="Bison" or 
                            defName="Dromedary" or 
                            defName="Goat" or 
                            defName="Elk" or 
                            defName="Yak" or 
                            defName="Caribou" or 
                            defName="Horse" or 
                            defName="Donkey" or 
                            defName="Elephant" or 
                            defName="Rhinoceros" or 
                            defName="Snowhare" or 
                            defName="Megascarab" or 
                            defName="Spelopede" or 
                            defName="Megaspider" or 
                            defName="Thrumbo" or 
                            defName="Cobra" or 
                            defName="Tortoise" or 
                            defName="Alphabeaver" or 
                            defName="Pig" or 
                            defName="WildBoar" or 
                            defName="Ibex" or 
                            defName="Deer" or 
                            defName="Gazelle" or 
                            defName="Chinchilla" or 
                            defName="Sheep" or 
                            defName="Alpaca" or 
                            defName="Megasloth" or 
                            defName="Capybara" or 
                            defName="Squirrel" or 
                            defName="Rat" or 
                            defName="Boomrat" or 
                            defName="Raccoon" or 
                            defName="Iguana" or 
                            defName="Warg" or 
                            defName="Wolf_Timber" or 
                            defName="Wolf_Arctic" or 
                            defName="Fox_Fennec" or 
                            defName="Fox_Red" or 
                            defName="Fox_Arctic"
                                ]/race/wildBiomes/*</xpath>
                        <value>{testsMAC_Corek}</value>
                        <operation>*</operation>
                    </Operation>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>
                                Defs/BiomeDef/wildAnimals/Bear_Grizzly |  
                                Defs/BiomeDef/wildAnimals/Bear_Polar |  
                                Defs/BiomeDef/wildAnimals/Ostrich |  
                                Defs/BiomeDef/wildAnimals/Emu |  
                                Defs/BiomeDef/wildAnimals/Cassowary |  
                                Defs/BiomeDef/wildAnimals/Cougar |  
                                Defs/BiomeDef/wildAnimals/Panther |  
                                Defs/BiomeDef/wildAnimals/Lynx |  
                                Defs/BiomeDef/wildAnimals/Cat |  
                                Defs/BiomeDef/wildAnimals/YorkshireTerrier |  
                                Defs/BiomeDef/wildAnimals/GuineaPig |  
                                Defs/BiomeDef/wildAnimals/LabradorRetriever |  
                                Defs/BiomeDef/wildAnimals/Husky |  
                                Defs/BiomeDef/wildAnimals/Monkey |  
                                Defs/BiomeDef/wildAnimals/Chicken |  
                                Defs/BiomeDef/wildAnimals/Duck |  
                                Defs/BiomeDef/wildAnimals/Turkey |  
                                Defs/BiomeDef/wildAnimals/Goose |  
                                Defs/BiomeDef/wildAnimals/Cow |  
                                Defs/BiomeDef/wildAnimals/Boomalope |  
                                Defs/BiomeDef/wildAnimals/Muffalo |  
                                Defs/BiomeDef/wildAnimals/Bison |  
                                Defs/BiomeDef/wildAnimals/Dromedary |  
                                Defs/BiomeDef/wildAnimals/Goat |  
                                Defs/BiomeDef/wildAnimals/Elk |  
                                Defs/BiomeDef/wildAnimals/Yak |  
                                Defs/BiomeDef/wildAnimals/Caribou |  
                                Defs/BiomeDef/wildAnimals/Horse |  
                                Defs/BiomeDef/wildAnimals/Donkey |  
                                Defs/BiomeDef/wildAnimals/Elephant |  
                                Defs/BiomeDef/wildAnimals/Rhinoceros |  
                                Defs/BiomeDef/wildAnimals/Snowhare |  
                                Defs/BiomeDef/wildAnimals/Megascarab |  
                                Defs/BiomeDef/wildAnimals/Spelopede |  
                                Defs/BiomeDef/wildAnimals/Megaspider |  
                                Defs/BiomeDef/wildAnimals/Thrumbo |  
                                Defs/BiomeDef/wildAnimals/Cobra |  
                                Defs/BiomeDef/wildAnimals/Tortoise |  
                                Defs/BiomeDef/wildAnimals/Alphabeaver |  
                                Defs/BiomeDef/wildAnimals/Pig |  
                                Defs/BiomeDef/wildAnimals/WildBoar |  
                                Defs/BiomeDef/wildAnimals/Ibex |  
                                Defs/BiomeDef/wildAnimals/Deer |  
                                Defs/BiomeDef/wildAnimals/Gazelle |  
                                Defs/BiomeDef/wildAnimals/Chinchilla |  
                                Defs/BiomeDef/wildAnimals/Sheep |  
                                Defs/BiomeDef/wildAnimals/Alpaca |  
                                Defs/BiomeDef/wildAnimals/Megasloth |  
                                Defs/BiomeDef/wildAnimals/Capybara |  
                                Defs/BiomeDef/wildAnimals/Squirrel |  
                                Defs/BiomeDef/wildAnimals/Rat |  
                                Defs/BiomeDef/wildAnimals/Boomrat |  
                                Defs/BiomeDef/wildAnimals/Raccoon |  
                                Defs/BiomeDef/wildAnimals/Iguana |  
                                Defs/BiomeDef/wildAnimals/Warg |  
                                Defs/BiomeDef/wildAnimals/Wolf_Timber |  
                                Defs/BiomeDef/wildAnimals/Wolf_Arctic |  
                                Defs/BiomeDef/wildAnimals/Fox_Fennec |  
                                Defs/BiomeDef/wildAnimals/Fox_Red |  
                                Defs/BiomeDef/wildAnimals/Fox_Arctic
                            </xpath>
                        <value>{testsMAC_Corek}</value>
                        <operation>*</operation>
                    </Operation>
                </apply>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>


    <!-- Alpha Animals -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_actcontains</patchName>
        <arguments>
            <li>Alpha Animals</li>
            <li>sarg.alphaanimals</li>
            <li>AlphaAnimals</li>
            <li>AA_</li>
        </arguments>
    </Operation>

    <!-- Animal Collab Project Vanilla-Style -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_actcontains</patchName>
        <arguments>
            <li>Animal Collab Project Vanilla-Style</li>
            <li>acpteam.acpvanillastyle</li>
            <li>AnimalCollabProjectVanillaStyle</li>
            <li>ACP</li>
        </arguments>
    </Operation>

    <!-- Bastyon -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_actcontains</patchName>
        <arguments>
            <li>Bastyon</li>
            <li>scurvyez.bastyon</li>
            <li>Bastyon</li>
            <li>Bast_</li>
        </arguments>
    </Operation>

    <!-- BIRD UP -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_act</patchName>
        <arguments>
            <li>BIRD UP!</li>
            <li>alex.birdup.allinone</li>
            <li>BIRDUP</li>
        </arguments>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.ModAnimalCommonality</modId>
        <key>testsMAC_BIRDUP</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="XmlExtensions.UseSetting">
                <modId>tests.ModAnimalCommonality</modId>
                <key>testsMAC_BIRDUPk</key>
                <defaultValue>1</defaultValue>
                <apply>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[
                            defName="Budgerigar" or 
                            defName="Cockatiel" or 
                            defName="Peregrine_falcon" or 
                            defName="Macaw" or 
                            defName="Raven" or 
                            defName="Vulture"
                            ]/race/wildBiomes/*</xpath>
                        <value>{testsMAC_BIRDUPk}</value>
                        <operation>*</operation>
                    </Operation>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>
                            Defs/BiomeDef/wildAnimals/Budgerigar | 
                            Defs/BiomeDef/wildAnimals/Cockatiel | 
                             Defs/BiomeDef/wildAnimals/Peregrine_falcon | 
                             Defs/BiomeDef/wildAnimals/Macaw | 
                             Defs/BiomeDef/wildAnimals/Raven | 
                             Defs/BiomeDef/wildAnimals/Vulture
                            </xpath>
                        <value>{testsMAC_BIRDUPk}</value>
                        <operation>*</operation>
                    </Operation>
                </apply>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <!-- boomlaphants -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_actsingle</patchName>
        <arguments>
            <li>Boomaphants</li>
            <li>thegoofyone.boomaphants</li>
            <li>Boomaphants</li>
            <li>Boomaphant</li>
        </arguments>
    </Operation>


    <!-- Borderlands Creatures -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_act</patchName>
        <arguments>
            <li>Borderlands: Creatures</li>
            <li>deon.borderlandscreatures</li>
            <li>BorderlandsCreatures</li>
        </arguments>
    </Operation>
    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.ModAnimalCommonality</modId>
        <key>testsMAC_BorderlandsCreatures</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="XmlExtensions.UseSetting">
                <modId>tests.ModAnimalCommonality</modId>
                <key>testsMAC_BorderlandsCreaturesk</key>
                <defaultValue>1</defaultValue>
                <apply>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[
                            defName="Tyrant" or 
                            defName="Ratch" or 
                            defName="Skag" or 
                            defName="SkagArctic" or 
                            defName="SkagSpitter" or 
                            defName="Spiderant" or 
                            defName="Rakk" or 
                            defName="Bullymong"
                            ]/race/wildBiomes/*</xpath>
                        <value>{testsMAC_BorderlandsCreaturesk}</value>
                        <operation>*</operation>
                    </Operation>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>
                            Defs/BiomeDef/wildAnimals/Tyrant | 
                            Defs/BiomeDef/wildAnimals/Ratch |
                            Defs/BiomeDef/wildAnimals/Skag |
                            Defs/BiomeDef/wildAnimals/SkagArctic |
                            Defs/BiomeDef/wildAnimals/SkagSpitter |
                            Defs/BiomeDef/wildAnimals/Spiderant |
                            Defs/BiomeDef/wildAnimals/Rakk |
                            Defs/BiomeDef/wildAnimals/Bullymong
                        </xpath>
                        <value>{testsMAC_BorderlandsCreaturesk}</value>
                        <operation>*</operation>
                    </Operation>
                </apply>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>


    <!-- Devilstrand animals -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_actcontains</patchName>
        <arguments>
            <li>Devilstrand Animals</li>
            <li>averythekitty.devilstrandanimals</li>
            <li>DevilstrandAnimals</li>
            <li>ATK_</li>
        </arguments>
    </Operation>


    <!-- Dinosauria  -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_act</patchName>
        <arguments>
            <li>Dinosauria</li>
            <li>spincrus.dinosauria</li>
            <li>Dinosauria</li>
        </arguments>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.ModAnimalCommonality</modId>
        <key>testsMAC_Dinosauria</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="XmlExtensions.UseSetting">
                <modId>tests.ModAnimalCommonality</modId>
                <key>testsMAC_Dinosauriak</key>
                <defaultValue>1</defaultValue>
                <apply>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[
                            defName="TyrannosaurusRex" or 
                            defName="Yutyrannus" or 
                            defName="Carnotaurus" or 
                            defName="Allosaurus" or 
                            defName="Spinosaurus" or 
                            defName="Baryonyx" or 
                            defName="Ankylosaurus" or 
                            defName="Minmi" or 
                            defName="Brachiosaurus" or 
                            defName="Brontosaurus" or 
                            defName="Diplodocus" or 
                            defName="Magyarosaurus" or 
                            defName="Utahraptor" or 
                            defName="Dakotaraptor" or 
                            defName="Dilophosaurus" or 
                            defName="Velociraptor" or 
                            defName="Compsognathus" or 
                            defName="Gallimimus" or 
                            defName="Gigantoraptor" or 
                            defName="Iguanodon" or 
                            defName="Parasaur" or 
                            defName="Corythosaurus" or 
                            defName="Deinocheirus" or 
                            defName="Therizinosaurus" or 
                            defName="Pachycephalosaurus" or 
                            defName="Stygimoloch" or 
                            defName="Dryosaurus" or 
                            defName="Stegosaurus" or 
                            defName="Triceratops" or 
                            defName="Protoceratops" or 
                            defName="Quetzalcoatlus" or 
                            defName="Pteranodon"
                            ]/race/wildBiomes/*</xpath>
                        <value>{testsMAC_Dinosauriak}</value>
                        <operation>*</operation>
                    </Operation>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>
                            Defs/BiomeDef/wildAnimals/TyrannosaurusRex | 
                            Defs/BiomeDef/wildAnimals/Yutyrannus | 
                            Defs/BiomeDef/wildAnimals/Carnotaurus | 
                            Defs/BiomeDef/wildAnimals/Allosaurus | 
                            Defs/BiomeDef/wildAnimals/Spinosaurus | 
                            Defs/BiomeDef/wildAnimals/Baryonyx | 
                            Defs/BiomeDef/wildAnimals/Ankylosaurus | 
                            Defs/BiomeDef/wildAnimals/Minmi | 
                            Defs/BiomeDef/wildAnimals/Brachiosaurus | 
                            Defs/BiomeDef/wildAnimals/Brontosaurus | 
                            Defs/BiomeDef/wildAnimals/Diplodocus | 
                            Defs/BiomeDef/wildAnimals/Magyarosaurus | 
                            Defs/BiomeDef/wildAnimals/Utahraptor | 
                            Defs/BiomeDef/wildAnimals/Dakotaraptor | 
                            Defs/BiomeDef/wildAnimals/Dilophosaurus | 
                            Defs/BiomeDef/wildAnimals/Velociraptor | 
                            Defs/BiomeDef/wildAnimals/Compsognathus | 
                            Defs/BiomeDef/wildAnimals/Gallimimus | 
                            Defs/BiomeDef/wildAnimals/Gigantoraptor | 
                            Defs/BiomeDef/wildAnimals/Iguanodon | 
                            Defs/BiomeDef/wildAnimals/Parasaur | 
                            Defs/BiomeDef/wildAnimals/Corythosaurus | 
                            Defs/BiomeDef/wildAnimals/Deinocheirus | 
                            Defs/BiomeDef/wildAnimals/Therizinosaurus | 
                            Defs/BiomeDef/wildAnimals/Pachycephalosaurus | 
                            Defs/BiomeDef/wildAnimals/Stygimoloch | 
                            Defs/BiomeDef/wildAnimals/Dryosaurus | 
                            Defs/BiomeDef/wildAnimals/Stegosaurus | 
                            Defs/BiomeDef/wildAnimals/Triceratops | 
                            Defs/BiomeDef/wildAnimals/Protoceratops | 
                            Defs/BiomeDef/wildAnimals/Quetzalcoatlus | 
                            Defs/BiomeDef/wildAnimals/Pteranodon
                        </xpath>
                        <value>{testsMAC_Dinosauriak}</value>
                        <operation>*</operation>
                    </Operation>
                </apply>
            </Operation>

        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <!-- doomalope -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_act</patchName>
        <arguments>
            <li>Doomalope</li>
            <li>cucumpear.doomalope</li>
            <li>Doomalope</li>
        </arguments>
    </Operation>
    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.ModAnimalCommonality</modId>
        <key>testsMAC_Doomalope</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="XmlExtensions.UseSetting">
                <modId>tests.ModAnimalCommonality</modId>
                <key>testsMAC_Doomalopek</key>
                <defaultValue>1</defaultValue>
                <apply>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[defName="Doomalope" or defName="CCPBoomalotter"]/race/wildBiomes/*</xpath>
                        <value>{testsMAC_Doomalopek}</value>
                        <operation>*</operation>
                    </Operation>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>Defs/BiomeDef/wildAnimals/Doomalope | Defs/BiomeDef/wildAnimals/CCPBoomalotter</xpath>
                        <value>{testsMAC_Doomalopek}</value>
                        <operation>*</operation>
                    </Operation>
                </apply>
            </Operation>

        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <!-- erins amaro -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_actsingle</patchName>
        <arguments>
            <li>Erin's Amaro</li>
            <li>erin.amaro</li>
            <li>ErinAmaro</li>
            <li>ERN_Amaro</li>
        </arguments>
    </Operation>
    <!-- erins chocobos -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_actsingle</patchName>
        <arguments>
            <li>Erin's Chocobos</li>
            <li>erin.chocobos</li>
            <li>ErinsChocobos</li>
            <li>ERN_Chocobo</li>
        </arguments>
    </Operation>

    <!-- ESCP - Spriggan -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_act</patchName>
        <arguments>
            <li>ESCP - Spriggan</li>
            <li>pphhyy.escp.spriggan</li>
            <li>ESCPSpriggan</li>
        </arguments>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.ModAnimalCommonality</modId>
        <key>testsMAC_ESCPSpriggan</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="XmlExtensions.UseSetting">
                <modId>tests.ModAnimalCommonality</modId>
                <key>testsMAC_ESCPSpriggank</key>
                <defaultValue>1</defaultValue>
                <apply>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[@ParentName="ESCP_SprigganThingBase" or @Name="ESCP_SprigganThingBase" or contains(defName,"ESCP_Spriggan")]/race/wildBiomes/*</xpath>
                        <value>{testsMAC_ESCPSpriggank}</value>
                        <operation>*</operation>
                    </Operation>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>Defs/BiomeDef/wildAnimals/*[contains(local-name(),"ESCP_Spriggan")]</xpath>
                        <value>{testsMAC_ESCPSpriggank}</value>
                        <operation>*</operation>
                    </Operation>
                </apply>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>


    <!-- Forsakens: Fauna -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_actcontains</patchName>
        <arguments>
            <li>Forsakens: Fauna</li>
            <li>forsakens.fauna</li>
            <li>ForsakensFauna</li>
            <li>FO_</li>
        </arguments>
    </Operation>

    <!-- Half Life Creatures -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_act</patchName>
        <arguments>
            <li>Half-Life Creatures</li>
            <li>asgalligator.hlvrmonsters</li>
            <li>HalfLifeCreatures</li>
        </arguments>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.ModAnimalCommonality</modId>
        <key>testsMAC_HalfLifeCreatures</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="XmlExtensions.UseSetting">
                <modId>tests.ModAnimalCommonality</modId>
                <key>testsMAC_HalfLifeCreaturesk</key>
                <defaultValue>1</defaultValue>
                <apply>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[
                            defName="Monster_Bullsquid" or 
                            defName="Monster_Houndeye" or 
                            defName="Monster_Antlion" or 
                            defName="Monster_AntlionWorker" or 
                            defName="Monster_AntlionGuard" or 
                            defName="Monster_AntlionGrub" or 
                            defName="Monster_Headcrab" or 
                            defName="Monster_HeadcrabFast" or 
                            defName="Monster_HeadcrabPoison" or 
                            defName="Monster_HeadcrabReviver" or 
                            defName="Monster_BigMomma" or 
                            defName="Monster_Gargantua"
                            
                            
                            ]/race/wildBiomes/*</xpath>
                        <value>{testsMAC_HalfLifeCreaturesk}</value>
                        <operation>*</operation>
                    </Operation>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>
                            Defs/BiomeDef/wildAnimals/Monster_Bullsquid | 
                            Defs/BiomeDef/wildAnimals/Monster_Houndeye |
                            Defs/BiomeDef/wildAnimals/Monster_Antlion |
                            Defs/BiomeDef/wildAnimals/Monster_AntlionWorker |
                            Defs/BiomeDef/wildAnimals/Monster_AntlionGuard |
                            Defs/BiomeDef/wildAnimals/Monster_AntlionGrub |
                            Defs/BiomeDef/wildAnimals/Monster_Headcrab |
                            Defs/BiomeDef/wildAnimals/Monster_HeadcrabFast |
                            Defs/BiomeDef/wildAnimals/Monster_HeadcrabPoison |
                            Defs/BiomeDef/wildAnimals/Monster_HeadcrabReviver |
                            Defs/BiomeDef/wildAnimals/Monster_BigMomma |
                            Defs/BiomeDef/wildAnimals/Monster_Gargantua
                        </xpath>
                        <value>{testsMAC_HalfLifeCreaturesk}</value>
                        <operation>*</operation>
                    </Operation>
                </apply>
            </Operation>

        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <!-- HC Creatures -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_act</patchName>
        <arguments>
            <li>HC_Creatures_1</li>
            <li>hc.creatures.1</li>
            <li>HC_Creatures_1</li>
        </arguments>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.ModAnimalCommonality</modId>
        <key>testsMAC_HC_Creatures_1</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="XmlExtensions.UseSetting">
                <modId>tests.ModAnimalCommonality</modId>
                <key>testsMAC_HC_Creatures_1k</key>
                <defaultValue>1</defaultValue>
                <apply>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[
                            defName="HC_Carbuncle" or 
                            defName="HC_Nightmares" or 
                            defName="HC_Gorgon" or 
                            defName="HC_Owlbear" or 
                            defName="HC_Unicorn" or 
                            defName="HC_Wyvern" or 
                            defName="HC_Kelpie" or 
                            defName="HC_Griffin" or 
                            defName="HC_Yeti" or 
                            defName="HC_Roc"
                            
                            
                            ]/race/wildBiomes/*</xpath>
                        <value>{testsMAC_HC_Creatures_1k}</value>
                        <operation>*</operation>
                    </Operation>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>
                            Defs/BiomeDef/wildAnimals/HC_Carbuncle | 
                            Defs/BiomeDef/wildAnimals/HC_Nightmares |
                            Defs/BiomeDef/wildAnimals/HC_Gorgon |
                            Defs/BiomeDef/wildAnimals/HC_Owlbear |
                            Defs/BiomeDef/wildAnimals/HC_Unicorn |
                            Defs/BiomeDef/wildAnimals/HC_Wyvern |
                            Defs/BiomeDef/wildAnimals/HC_Kelpie |
                            Defs/BiomeDef/wildAnimals/HC_Griffin |
                            Defs/BiomeDef/wildAnimals/HC_Yeti |
                            Defs/BiomeDef/wildAnimals/HC_Roc
                        </xpath>
                        <value>{testsMAC_HC_Creatures_1k}</value>
                        <operation>*</operation>
                    </Operation>
                </apply>
            </Operation>

        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>


    <!-- Legacy Ark  -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_act</patchName>
        <arguments>
            <li>Legacy Ark</li>
            <li>mlie.legacyark</li>
            <li>LegacyArk</li>
        </arguments>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.ModAnimalCommonality</modId>
        <key>testsMAC_LegacyArk</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="XmlExtensions.UseSetting">
                <modId>tests.ModAnimalCommonality</modId>
                <key>testsMAC_LegacyArkk</key>
                <defaultValue>1</defaultValue>
                <apply>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[
                            @ParentName="ArkCowBase" or 
                            @Name="ArkCowBase" or 
                            defName="AngusCow" or 
                            defName="HerefordCow" or 
                            defName="HarianaCow" or 
                            defName="HighlandCow" or 
                            defName="LonghornCow" or 
                            defName="ZebuCow" or 
                            defName="HolsteinFriesianCow" or 
                            defName="JerseyCow" or 
                            defName="LimousinCow" or 
                            defName="BrownSwissCow" or 
                            defName="AnkoleWatusiCow" or 
                            defName="BravaCow" or 
                            defName="BoomooCow" or 
                            defName="BrahmanCow" or 
                            defName="Gerbil" or 
                            defName="IndianGiantSquirrel" or 
                            defName="LeopardTortoise" or 
                            defName="Copperhead" or 
                            defName="GreenSnake" or 
                            defName="CoralSnake" or 
                            defName="BrushTurkey" or 
                            defName="Badger" or 
                            defName="CactusMantis" or 
                            defName="MudSnake" or 
                            defName="Cottonmouth" or 
                            defName="Nutria" or 
                            defName="WaterDeer" or 
                            defName="Muskrat" or 
                            defName="ScarletKingSnake" or 
                            defName="TimberRattler" or 
                            defName="YellowViper" or 
                            defName="RedFootedTortoise" or 
                            @ParentName="ArkPigBase" or 
                            @Name="ArkPigBase" or 
                            defName="GloucestershirePig" or 
                            defName="DurocPig" or 
                            defName="WoolyPig" or 
                            defName="DairyPig" or 
                            defName="BerkshirePig" or 
                            defName="SaddlebackPig" or 
                            @ParentName="ArkSheepBase" or 
                            @Name="ArkSheepBase" or 
                            defName="MerinoSheep" or 
                            defName="JacobsSheep" or 
                            defName="BighornSheep" or 
                            defName="MouflonSheep" or 
                            defName="LincolnSheep" or 
                            defName="SuffolkSheep" or 
                            defName="AwassiSheep" or 
                            defName="AssafSheep" or 
                            defName="RedRattler" or 
                            defName="BorderLeicesterSheep"
                            ]/race/wildBiomes/*</xpath>
                        <value>{testsMAC_LegacyArkk}</value>
                        <operation>*</operation>
                    </Operation>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>
                            Defs/BiomeDef/wildAnimals/AngusCow | 
                            Defs/BiomeDef/wildAnimals/HerefordCow | 
                            Defs/BiomeDef/wildAnimals/HarianaCow | 
                            Defs/BiomeDef/wildAnimals/HighlandCow | 
                            Defs/BiomeDef/wildAnimals/LonghornCow | 
                            Defs/BiomeDef/wildAnimals/ZebuCow | 
                            Defs/BiomeDef/wildAnimals/HolsteinFriesianCow | 
                            Defs/BiomeDef/wildAnimals/JerseyCow | 
                            Defs/BiomeDef/wildAnimals/LimousinCow | 
                            Defs/BiomeDef/wildAnimals/BrownSwissCow | 
                            Defs/BiomeDef/wildAnimals/AnkoleWatusiCow | 
                            Defs/BiomeDef/wildAnimals/BravaCow | 
                            Defs/BiomeDef/wildAnimals/BoomooCow | 
                            Defs/BiomeDef/wildAnimals/BrahmanCow | 
                            Defs/BiomeDef/wildAnimals/Gerbil | 
                            Defs/BiomeDef/wildAnimals/IndianGiantSquirrel | 
                            Defs/BiomeDef/wildAnimals/LeopardTortoise | 
                            Defs/BiomeDef/wildAnimals/Copperhead | 
                            Defs/BiomeDef/wildAnimals/GreenSnake | 
                            Defs/BiomeDef/wildAnimals/CoralSnake | 
                            Defs/BiomeDef/wildAnimals/BrushTurkey | 
                            Defs/BiomeDef/wildAnimals/Badger | 
                            Defs/BiomeDef/wildAnimals/CactusMantis | 
                            Defs/BiomeDef/wildAnimals/MudSnake | 
                            Defs/BiomeDef/wildAnimals/Cottonmouth | 
                            Defs/BiomeDef/wildAnimals/Nutria | 
                            Defs/BiomeDef/wildAnimals/WaterDeer | 
                            Defs/BiomeDef/wildAnimals/Muskrat | 
                            Defs/BiomeDef/wildAnimals/ScarletKingSnake | 
                            Defs/BiomeDef/wildAnimals/TimberRattler | 
                            Defs/BiomeDef/wildAnimals/YellowViper | 
                            Defs/BiomeDef/wildAnimals/RedFootedTortoise | 
                            Defs/BiomeDef/wildAnimals/GloucestershirePig | 
                            Defs/BiomeDef/wildAnimals/DurocPig | 
                            Defs/BiomeDef/wildAnimals/WoolyPig | 
                            Defs/BiomeDef/wildAnimals/DairyPig | 
                            Defs/BiomeDef/wildAnimals/BerkshirePig | 
                            Defs/BiomeDef/wildAnimals/SaddlebackPig | 
                            Defs/BiomeDef/wildAnimals/MerinoSheep | 
                            Defs/BiomeDef/wildAnimals/JacobsSheep | 
                            Defs/BiomeDef/wildAnimals/BighornSheep | 
                            Defs/BiomeDef/wildAnimals/MouflonSheep | 
                            Defs/BiomeDef/wildAnimals/LincolnSheep | 
                            Defs/BiomeDef/wildAnimals/SuffolkSheep | 
                            Defs/BiomeDef/wildAnimals/AwassiSheep | 
                            Defs/BiomeDef/wildAnimals/AssafSheep | 
                            Defs/BiomeDef/wildAnimals/RedRattler | 
                            Defs/BiomeDef/wildAnimals/BorderLeicesterSheep
                        </xpath>
                        <value>{testsMAC_LegacyArkk}</value>
                        <operation>*</operation>
                    </Operation>
                </apply>
            </Operation>

        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <!-- Magical Menagerie -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_actcontains</patchName>
        <arguments>
            <li>Magical Menagerie</li>
            <li>sarg.magicalmenagerie</li>
            <li>MagicalMenagerie</li>
            <li>MM_</li>
        </arguments>
    </Operation>

    <!-- Megafauna -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_act</patchName>
        <arguments>
            <li>Megafauna</li>
            <li>spino.megafauna</li>
            <li>Megafauna</li>
        </arguments>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.ModAnimalCommonality</modId>
        <key>testsMAC_Megafauna</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="XmlExtensions.UseSetting">
                <modId>tests.ModAnimalCommonality</modId>
                <key>testsMAC_Megafaunak</key>
                <defaultValue>1</defaultValue>
                <apply>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[
                            defName="Arthropleura" or 
                            defName="Doedicurus" or 
                            defName="Daeodon" or 
                            defName="Gigantopithecus" or 
                            defName="Paraceratherium" or 
                            defName="Titanis" or 
                            defName="Titanoboa" or 
                            defName="WoollyMammoth" or 
                            defName="Elasmotherium" or 
                            defName="Smilodon" or 
                            defName="Chalicotherium" or 
                            defName="Megaloceros" or 
                            defName="Procoptodon" or 
                            defName="Megalania" or 
                            defName="Gomphotaria" or 
                            defName="Diprotodon" or 
                            defName="ShortfacedBear" or 
                            defName="Dinocrocuta" or 
                            defName="Sivatherium" or 
                            defName="Andrewsarchus" or 
                            defName="Dinornis" or 
                            defName="Macrauchenia" or 
                            defName="Quinkana" or 
                            defName="Deinotherium" or 
                            defName="Aurochs" or 
                            defName="Megalochelys" or 
                            defName="Palaeeudyptes" or 
                            defName="Josephoartigasia" or 
                            defName="Gigantophis" or 
                            defName="Meganeura" or 
                            defName="Zygolophodon" or 
                            defName="Platybelodon" or 
                            defName="Purussaurus" or 
                            defName="Uintatherium" or 
                            defName="Pulmonoscorpius" or 
                            defName="Dinopithecus" or 
                            defName="Castoroides" or 
                            defName="Enhydriodon"
                            ]/race/wildBiomes/*</xpath>
                        <value>{testsMAC_Megafaunak}</value>
                        <operation>*</operation>
                    </Operation>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>
                            Defs/BiomeDef/wildAnimals/Arthropleura |
                            Defs/BiomeDef/wildAnimals/Doedicurus |
                            Defs/BiomeDef/wildAnimals/Daeodon |
                            Defs/BiomeDef/wildAnimals/Gigantopithecus |
                            Defs/BiomeDef/wildAnimals/Paraceratherium |
                            Defs/BiomeDef/wildAnimals/Titanis |
                            Defs/BiomeDef/wildAnimals/Titanoboa |
                            Defs/BiomeDef/wildAnimals/WoollyMammoth |
                            Defs/BiomeDef/wildAnimals/Elasmotherium |
                            Defs/BiomeDef/wildAnimals/Smilodon |
                            Defs/BiomeDef/wildAnimals/Chalicotherium |
                            Defs/BiomeDef/wildAnimals/Megaloceros |
                            Defs/BiomeDef/wildAnimals/Procoptodon |
                            Defs/BiomeDef/wildAnimals/Megalania |
                            Defs/BiomeDef/wildAnimals/Gomphotaria |
                            Defs/BiomeDef/wildAnimals/Diprotodon |
                            Defs/BiomeDef/wildAnimals/ShortfacedBear |
                            Defs/BiomeDef/wildAnimals/Dinocrocuta |
                            Defs/BiomeDef/wildAnimals/Sivatherium |
                            Defs/BiomeDef/wildAnimals/Andrewsarchus |
                            Defs/BiomeDef/wildAnimals/Dinornis |
                            Defs/BiomeDef/wildAnimals/Macrauchenia |
                            Defs/BiomeDef/wildAnimals/Quinkana |
                            Defs/BiomeDef/wildAnimals/Deinotherium |
                            Defs/BiomeDef/wildAnimals/Aurochs |
                            Defs/BiomeDef/wildAnimals/Megalochelys |
                            Defs/BiomeDef/wildAnimals/Palaeeudyptes |
                            Defs/BiomeDef/wildAnimals/Josephoartigasia |
                            Defs/BiomeDef/wildAnimals/Gigantophis |
                            Defs/BiomeDef/wildAnimals/Meganeura |
                            Defs/BiomeDef/wildAnimals/Zygolophodon |
                            Defs/BiomeDef/wildAnimals/Platybelodon |
                            Defs/BiomeDef/wildAnimals/Purussaurus |
                            Defs/BiomeDef/wildAnimals/Uintatherium |
                            Defs/BiomeDef/wildAnimals/Pulmonoscorpius |
                            Defs/BiomeDef/wildAnimals/Dinopithecus |
                            Defs/BiomeDef/wildAnimals/Castoroides |
                            Defs/BiomeDef/wildAnimals/Enhydriodon
                            </xpath>
                        <value>{testsMAC_Megafaunak}</value>
                        <operation>*</operation>
                    </Operation>
                </apply>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>


    <!-- Monster Hunter RimWorld -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_act</patchName>
        <arguments>
            <li>Monster Hunter RimWorld</li>
            <li>asgalligator.mhrw</li>
            <li>MonsterHunterRimWorld</li>
        </arguments>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.ModAnimalCommonality</modId>
        <key>testsMAC_MonsterHunterRimWorld</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="XmlExtensions.UseSetting">
                <modId>tests.ModAnimalCommonality</modId>
                <key>testsMAC_MonsterHunterRimWorldk</key>
                <defaultValue>1</defaultValue>
                <apply>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>
                            Defs/ThingDef[

                            defName="KuluYaKu" or 
                            defName="Genprey" or 
                            defName="Velociprey" or 
                            defName="Giaprey" or 
                            defName="TzitziYaKu" or 
                            defName="PukeiPukei" or 
                            defName="YianKutKu" or 
                            defName="Barroth" or 
                            defName="Deviljho" or 
                            defName="Jyuratodus" or 
                            defName="Plesioth" or 
                            defName="Lavasioth" or 
                            defName="Anjanath" or 
                            defName="Glavenus" or 
                            defName="KushalaDaora" or 
                            defName="Tesuka" or 
                            defName="Nergigante" or 
                            defName="Kirin" or 
                            defName="KulveTaroth" or 
                            defName="KulveTarothNaked" or 
                            defName="Velkhana" or 
                            defName="VaalHazak" or 
                            defName="TobiKadachi" or 
                            defName="GreatJagras" or 
                            defName="GreatGirros" or 
                            defName="Dodogama" or 
                            defName="Odogaron" or 
                            defName="Mizutsune" or 
                            defName="Zinogre" or 
                            defName="Zamtrios" or 
                            defName="Rath" or 
                            defName="Bazelgeuse" or 
                            defName="Legiana" or 
                            defName="Diablos" or 
                            defName="Paolumu" or 
                            defName="Nargacuga" or 
                            defName="Tigrex" or 
                            defName="Jagras" or 
                            defName="Girros" or 
                            defName="Aptonoth" or 
                            defName="Rhenoplos" or 
                            defName="Slagtoth" or 
                            defName="Kelbi" or 
                            defName="Jaggi" or 
                            defName="Kestodon" or 
                            defName="Gastodon" or 
                            defName="Apceros" or 
                            defName="Shamos" or 
                            defName="Delex" or 
                            defName="Bullfango"
                            
                            ]/race/wildBiomes/*
                        </xpath>
                        <value>{testsMAC_MonsterHunterRimWorldk}</value>
                        <operation>*</operation>
                    </Operation>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>
                            Defs/BiomeDef/wildAnimals/KuluYaKu | 
                            Defs/BiomeDef/wildAnimals/Genprey | 
                            Defs/BiomeDef/wildAnimals/Velociprey | 
                            Defs/BiomeDef/wildAnimals/Giaprey | 
                            Defs/BiomeDef/wildAnimals/TzitziYaKu | 
                            Defs/BiomeDef/wildAnimals/PukeiPukei | 
                            Defs/BiomeDef/wildAnimals/YianKutKu | 
                            Defs/BiomeDef/wildAnimals/Barroth | 
                            Defs/BiomeDef/wildAnimals/Deviljho | 
                            Defs/BiomeDef/wildAnimals/Jyuratodus | 
                            Defs/BiomeDef/wildAnimals/Plesioth | 
                            Defs/BiomeDef/wildAnimals/Lavasioth | 
                            Defs/BiomeDef/wildAnimals/Anjanath | 
                            Defs/BiomeDef/wildAnimals/Glavenus | 
                            Defs/BiomeDef/wildAnimals/KushalaDaora | 
                            Defs/BiomeDef/wildAnimals/Tesuka | 
                            Defs/BiomeDef/wildAnimals/Nergigante | 
                            Defs/BiomeDef/wildAnimals/Kirin | 
                            Defs/BiomeDef/wildAnimals/KulveTaroth | 
                            Defs/BiomeDef/wildAnimals/KulveTarothNaked | 
                            Defs/BiomeDef/wildAnimals/Velkhana | 
                            Defs/BiomeDef/wildAnimals/VaalHazak | 
                            Defs/BiomeDef/wildAnimals/TobiKadachi | 
                            Defs/BiomeDef/wildAnimals/GreatJagras | 
                            Defs/BiomeDef/wildAnimals/GreatGirros | 
                            Defs/BiomeDef/wildAnimals/Dodogama | 
                            Defs/BiomeDef/wildAnimals/Odogaron | 
                            Defs/BiomeDef/wildAnimals/Mizutsune | 
                            Defs/BiomeDef/wildAnimals/Zinogre | 
                            Defs/BiomeDef/wildAnimals/Zamtrios | 
                            Defs/BiomeDef/wildAnimals/Rath | 
                            Defs/BiomeDef/wildAnimals/Bazelgeuse | 
                            Defs/BiomeDef/wildAnimals/Legiana | 
                            Defs/BiomeDef/wildAnimals/Diablos | 
                            Defs/BiomeDef/wildAnimals/Paolumu | 
                            Defs/BiomeDef/wildAnimals/Nargacuga | 
                            Defs/BiomeDef/wildAnimals/Tigrex | 
                            Defs/BiomeDef/wildAnimals/Jagras | 
                            Defs/BiomeDef/wildAnimals/Girros | 
                            Defs/BiomeDef/wildAnimals/Aptonoth | 
                            Defs/BiomeDef/wildAnimals/Rhenoplos | 
                            Defs/BiomeDef/wildAnimals/Slagtoth | 
                            Defs/BiomeDef/wildAnimals/Kelbi | 
                            Defs/BiomeDef/wildAnimals/Jaggi | 
                            Defs/BiomeDef/wildAnimals/Kestodon | 
                            Defs/BiomeDef/wildAnimals/Gastodon | 
                            Defs/BiomeDef/wildAnimals/Apceros | 
                            Defs/BiomeDef/wildAnimals/Shamos | 
                            Defs/BiomeDef/wildAnimals/Delex | 
                            Defs/BiomeDef/wildAnimals/Bullfango
                            
                        </xpath>
                        <value>{testsMAC_MonsterHunterRimWorldk}</value>
                        <operation>*</operation>
                    </Operation>
                </apply>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>


    <!-- Monstrous Compendium -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_act</patchName>
        <arguments>
            <li>Monstrous Compendium</li>
            <li>mlie.monstrouscompendium</li>
            <li>MonstrousCompendium</li>
        </arguments>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.ModAnimalCommonality</modId>
        <key>testsMAC_MonstrousCompendium</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="XmlExtensions.UseSetting">
                <modId>tests.ModAnimalCommonality</modId>
                <key>testsMAC_MonstrousCompendiumk</key>
                <defaultValue>1</defaultValue>
                <apply>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[
                            defName="Beetle" or 
                            defName="FireBeetle" or 
                            defName="Deviljho" or 
                            defName="Gryphon" or 
                            defName="Hydra" or 
                            defName="Illithid" or 
                            @Name="OozeRace" or 
                            defName="Purpleworm"
                            ]/race/wildBiomes/*</xpath>
                        <value>{testsMAC_MonstrousCompendiumk}</value>
                        <operation>*</operation>
                    </Operation>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>
                            Defs/BiomeDef/wildAnimals/Beetle | 
                            Defs/BiomeDef/wildAnimals/FireBeetle |
                            Defs/BiomeDef/wildAnimals/Deviljho |
                            Defs/BiomeDef/wildAnimals/Gryphon |
                            Defs/BiomeDef/wildAnimals/Hydra |
                            Defs/BiomeDef/wildAnimals/Illithid |
                            Defs/BiomeDef/wildAnimals/ooze_green |
                            Defs/BiomeDef/wildAnimals/Purpleworm
                        </xpath>
                        <value>{testsMAC_MonstrousCompendiumk}</value>
                        <operation>*</operation>
                    </Operation>
                </apply>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <!-- mooloh dnd menagerie -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_actcontains</patchName>
        <arguments>
            <li>Mooloh's Dnd Menagerie</li>
            <li>mooloh.dndmenagerie</li>
            <li>MoolohsDndMenagerie</li>
            <li>DND</li>
        </arguments>
    </Operation>

    <!-- MorrowRim - Trolls  -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_act</patchName>
        <arguments>
            <li>MorrowRim - Trolls</li>
            <li>sirmashedpotato.morrowrim.trolls</li>
            <li>MorrowRimTrolls</li>
        </arguments>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.ModAnimalCommonality</modId>
        <key>testsMAC_MorrowRimTrolls</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="XmlExtensions.UseSetting">
                <modId>tests.ModAnimalCommonality</modId>
                <key>testsMAC_MorrowRimTrollsk</key>
                <defaultValue>1</defaultValue>
                <apply>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[contains(defName,"MorrowRim_Troll") or @ParentName="MorrowRim_TrollThingBase" or @ParentName="MorrowRim_TrollThingBase_T2" or @Name="MorrowRim_TrollThingBase" or @Name="MorrowRim_TrollThingBase_T2"]/race/wildBiomes/*</xpath>
                        <value>{testsMAC_MorrowRimTrollsk}</value>
                        <operation>*</operation>
                    </Operation>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>Defs/BiomeDef/wildAnimals/*[contains(local-name(),"MorrowRim_Troll")]</xpath>
                        <value>{testsMAC_MorrowRimTrollsk}</value>
                        <operation>*</operation>
                    </Operation>
                </apply>
            </Operation>

        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>


    <!-- Oxygen Not Included Animals Module  -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_act</patchName>
        <arguments>
            <li>Oxygen Not Included Animals Module</li>
            <li>scruffy.content.onianimals</li>
            <li>OxygenNotIncludedAnimalsModule</li>
        </arguments>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.ModAnimalCommonality</modId>
        <key>testsMAC_OxygenNotIncludedAnimalsModule</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="XmlExtensions.UseSetting">
                <modId>tests.ModAnimalCommonality</modId>
                <key>testsMAC_OxygenNotIncludedAnimalsModulek</key>
                <defaultValue>1</defaultValue>
                <apply>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[
                            defName="Drecko" or 
                            defName="GlossyDrecko" or 
                            defName="SmoothHatch" or 
                            defName="Hatch" or 
                            defName="StoneHatch" or 
                            defName="SageHatch" or 
                            defName="TropicalPacu" or 
                            defName="Pacu" or 
                            defName="GulpFish" or 
                            defName="SqueakyPuft" or 
                            defName="PuftPrince" or 
                            defName="Puft" or 
                            defName="DensePuft" or 
                            defName="Sunbug" or 
                            defName="Abyssbug" or 
                            defName="Royalbug" or 
                            defName="Radiantbug" or 
                            defName="Coralbug" or 
                            defName="Azurebug" or 
                            defName="Shinebug" or 
                            defName="Slickster" or 
                            defName="MoltenSlickster" or 
                            defName="LonghairSlickster" or 
                            defName="Pokeshell" or 
                            defName="Shovevole" or 
                            defName="Gassymoo" or 
                            defName="Pip" or 
                            defName="Morb"
                            ]/race/wildBiomes/*</xpath>
                        <value>{testsMAC_OxygenNotIncludedAnimalsModulek}</value>
                        <operation>*</operation>
                    </Operation>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>
                            Defs/BiomeDef/wildAnimals/Drecko |  
                            Defs/BiomeDef/wildAnimals/GlossyDrecko |  
                            Defs/BiomeDef/wildAnimals/SmoothHatch |  
                            Defs/BiomeDef/wildAnimals/Hatch |  
                            Defs/BiomeDef/wildAnimals/StoneHatch |  
                            Defs/BiomeDef/wildAnimals/SageHatch |  
                            Defs/BiomeDef/wildAnimals/TropicalPacu |  
                            Defs/BiomeDef/wildAnimals/Pacu |  
                            Defs/BiomeDef/wildAnimals/GulpFish |  
                            Defs/BiomeDef/wildAnimals/SqueakyPuft |  
                            Defs/BiomeDef/wildAnimals/PuftPrince |  
                            Defs/BiomeDef/wildAnimals/Puft |  
                            Defs/BiomeDef/wildAnimals/DensePuft |  
                            Defs/BiomeDef/wildAnimals/Sunbug |  
                            Defs/BiomeDef/wildAnimals/Abyssbug |  
                            Defs/BiomeDef/wildAnimals/Royalbug |  
                            Defs/BiomeDef/wildAnimals/Radiantbug |  
                            Defs/BiomeDef/wildAnimals/Coralbug |  
                            Defs/BiomeDef/wildAnimals/Azurebug |  
                            Defs/BiomeDef/wildAnimals/Shinebug |  
                            Defs/BiomeDef/wildAnimals/Slickster |  
                            Defs/BiomeDef/wildAnimals/MoltenSlickster |  
                            Defs/BiomeDef/wildAnimals/LonghairSlickster |  
                            Defs/BiomeDef/wildAnimals/Pokeshell |  
                            Defs/BiomeDef/wildAnimals/Shovevole |  
                            Defs/BiomeDef/wildAnimals/Gassymoo |  
                            Defs/BiomeDef/wildAnimals/Pip |  
                            Defs/BiomeDef/wildAnimals/Morb
                        </xpath>
                        <value>{testsMAC_OxygenNotIncludedAnimalsModulek}</value>
                        <operation>*</operation>
                    </Operation>
                </apply>
            </Operation>

        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>


    <!-- Pet Cucumber -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_actsingle</patchName>
        <arguments>
            <li>Pet Cucumber</li>
            <li>tigerblut.petcucumber</li>
            <li>PetCucumber</li>
            <li>SeaCucumber</li>
        </arguments>
    </Operation>

    <!-- Pink Material Sheep  -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_act</patchName>
        <arguments>
            <li>Pink Material Sheep</li>
            <li>akairo.pinkmaterialsheep</li>
            <li>PinkMaterialSheep</li>
        </arguments>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.ModAnimalCommonality</modId>
        <key>testsMAC_PinkMaterialSheep</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="XmlExtensions.UseSetting">
                <modId>tests.ModAnimalCommonality</modId>
                <key>testsMAC_PinkMaterialSheepk</key>
                <defaultValue>1</defaultValue>
                <apply>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[defName="aka_BSheep" or ParentName="Suzumetan"]/race/wildBiomes/*</xpath>
                        <value>{testsMAC_PinkMaterialSheepk}</value>
                        <operation>*</operation>
                    </Operation>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>Defs/BiomeDef/wildAnimals/aka_BSheep</xpath>
                        <value>{testsMAC_PinkMaterialSheepk}</value>
                        <operation>*</operation>
                    </Operation>
                </apply>
            </Operation>

        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <!-- Race to the Rim -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_actcontains</patchName>
        <arguments>
            <li>Race to the Rim</li>
            <li>sargoskar.racetotherim</li>
            <li>RacetotheRim</li>
            <li>RttR</li>
        </arguments>
    </Operation>


    <!-- ReGrowth Remastered: Extinct Animals  -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_act</patchName>
        <arguments>
            <li>ReGrowth Remastered: Extinct Animals</li>
            <li>regrowth2.extinctanimals</li>
            <li>ReGrowthRemasteredExtinctAnimals</li>
        </arguments>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.ModAnimalCommonality</modId>
        <key>testsMAC_ReGrowthRemasteredExtinctAnimals</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="XmlExtensions.UseSetting">
                <modId>tests.ModAnimalCommonality</modId>
                <key>testsMAC_ReGrowthRemasteredExtinctAnimalsk</key>
                <defaultValue>1</defaultValue>
                <apply>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[
                            defName="RG_WoollyMammoth" or 
                            defName="RG_WoollyRhinoceros" or 
                            defName="RG_WoollyStegosaurus" or 
                            defName="RG_SabertoothSquirrel" or 
                            defName="RG_Protoceratidae" or 
                            defName="RG_Dodo" or 
                            defName="RG_ArcticDrak" or 
                            defName="RG_ArcticLuizicus" or 
                            defName="RG_TerrorBird" or 
                            defName="RG_Megalenhydris" or 
                            defName="RG_Thrinaxodon" or 
                            defName="RG_Velociraptor"
                            
                            
                            ]/race/wildBiomes/*</xpath>
                        <value>{testsMAC_ReGrowthRemasteredExtinctAnimalsk}</value>
                        <operation>*</operation>
                    </Operation>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>
                            Defs/BiomeDef/wildAnimals/RG_WoollyMammoth | 
                            Defs/BiomeDef/wildAnimals/RG_WoollyRhinoceros |
                            Defs/BiomeDef/wildAnimals/RG_WoollyStegosaurus |
                            Defs/BiomeDef/wildAnimals/RG_SabertoothSquirrel |
                            Defs/BiomeDef/wildAnimals/RG_Protoceratidae |
                            Defs/BiomeDef/wildAnimals/RG_Dodo |
                            Defs/BiomeDef/wildAnimals/RG_ArcticDrak |
                            Defs/BiomeDef/wildAnimals/RG_ArcticLuizicus |
                            Defs/BiomeDef/wildAnimals/RG_TerrorBird |
                            Defs/BiomeDef/wildAnimals/RG_Megalenhydris |
                            Defs/BiomeDef/wildAnimals/RG_Thrinaxodon |
                            Defs/BiomeDef/wildAnimals/RG_Velociraptor
                        </xpath>
                        <value>{testsMAC_ReGrowthRemasteredExtinctAnimalsk}</value>
                        <operation>*</operation>
                    </Operation>
                </apply>
            </Operation>

        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    
    <!-- Alpha Animals -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_actcontains</patchName>
        <arguments>
            <li>[Ry]Rimcraft Animals</li>
            <li>Ryflamer.Rimcraft.Animals</li>
            <li>RimcraftAnimals</li>
            <li>WoW_Animal_</li>
        </arguments>
    </Operation>

    <!-- Scaled World  -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_act</patchName>
        <arguments>
            <li>Scaled World</li>
            <li>scaled.world</li>
            <li>ScaledWorld</li>
        </arguments>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.ModAnimalCommonality</modId>
        <key>testsMAC_ScaledWorld</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="XmlExtensions.UseSetting">
                <modId>tests.ModAnimalCommonality</modId>
                <key>testsMAC_ScaledWorldk</key>
                <defaultValue>1</defaultValue>
                <apply>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[
                            defName="Skrill" or 
                            defName="Monstrous_Nightmare" or 
                            defName="Fury" or 
                            defName="Speed_Stinger" or 
                            defName="Stormcutter" or 
                            defName="Deadly_Nadder" or 
                            defName="Dramillion" or 
                            defName="Triple_Stryke" or 
                            defName="Changewing" or 
                            defName="Thunderdrum" or 
                            defName="Boneknapper" or 
                            defName="Hideous_Zippleback"
                            ]/race/wildBiomes/*</xpath>
                        <value>{testsMAC_ScaledWorldk}</value>
                        <operation>*</operation>
                    </Operation>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>
                            Defs/BiomeDef/wildAnimals/Skrill | 
                            Defs/BiomeDef/wildAnimals/Monstrous_Nightmare |
                            Defs/BiomeDef/wildAnimals/Fury |
                            Defs/BiomeDef/wildAnimals/Speed_Stinger |
                            Defs/BiomeDef/wildAnimals/Stormcutter |
                            Defs/BiomeDef/wildAnimals/Deadly_Nadder | 
                            Defs/BiomeDef/wildAnimals/Dramillion | 
                            Defs/BiomeDef/wildAnimals/Triple_Stryke | 
                            Defs/BiomeDef/wildAnimals/Changewing | 
                            Defs/BiomeDef/wildAnimals/Thunderdrum | 
                            Defs/BiomeDef/wildAnimals/Boneknapper | 
                            Defs/BiomeDef/wildAnimals/Hideous_Zippleback
                        </xpath>
                        <value>{testsMAC_ScaledWorldk}</value>
                        <operation>*</operation>
                    </Operation>
                </apply>
            </Operation>

        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>


    <!-- Slime Rancher  -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_act</patchName>
        <arguments>
            <li>Slime Rancher</li>
            <li>punkyroo.slimerancher</li>
            <li>SlimeRancher</li>
        </arguments>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.ModAnimalCommonality</modId>
        <key>testsMAC_SlimeRancher</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="XmlExtensions.UseSetting">
                <modId>tests.ModAnimalCommonality</modId>
                <key>testsMAC_SlimeRancherk</key>
                <defaultValue>1</defaultValue>
                <apply>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[@ParentName="SlimeThingBase" or @Name="SlimeThingBase"]/race/wildBiomes/*</xpath>
                        <value>{testsMAC_SlimeRancherk}</value>
                        <operation>*</operation>
                    </Operation>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>Defs/BiomeDef/wildAnimals/GreenSlime | 
                            Defs/BiomeDef/wildAnimals/PuddleSlime | 
                            Defs/BiomeDef/wildAnimals/FireSlime | 
                            Defs/BiomeDef/wildAnimals/BoomSlime | 
                            Defs/BiomeDef/wildAnimals/TarrSlime | 
                            Defs/BiomeDef/wildAnimals/QuicksilverSlime | 
                            Defs/BiomeDef/wildAnimals/BuddingSlime | 
                            Defs/BiomeDef/wildAnimals/GoldSlime | 
                            Defs/BiomeDef/wildAnimals/MetalSlime | 
                            Defs/BiomeDef/wildAnimals/TabbySlime | 
                            Defs/BiomeDef/wildAnimals/RadSlime | 
                            Defs/BiomeDef/wildAnimals/HoneySlime | 
                            Defs/BiomeDef/wildAnimals/RockSlime
                        </xpath>
                        <value>{testsMAC_SlimeRancherk}</value>
                        <operation>*</operation>
                    </Operation>
                </apply>
            </Operation>

        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <!-- Slimes  -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_act</patchName>
        <arguments>
            <li>Slimes</li>
            <li>zylle.slimes</li>
            <li>Slimes</li>
        </arguments>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.ModAnimalCommonality</modId>
        <key>testsMAC_Slimes</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="XmlExtensions.UseSetting">
                <modId>tests.ModAnimalCommonality</modId>
                <key>testsMAC_Slimesk</key>
                <defaultValue>1</defaultValue>
                <apply>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[@ParentName="ZSL_SlimeBase" or @Name="ZSL_SlimeBase" or (contains(defName,"ZSL") and contains(defName,"Slime"))]/race/wildBiomes/*</xpath>
                        <value>{testsMAC_Slimesk}</value>
                        <operation>*</operation>
                    </Operation>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>Defs/BiomeDef/wildAnimals/*[contains(local-name(),"ZSL") and contains(local-name(),"Slime")]</xpath>
                        <value>{testsMAC_Slimesk}</value>
                        <operation>*</operation>
                    </Operation>
                </apply>
            </Operation>

        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>


    <!-- StarWars Animal Collection  -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_act</patchName>
        <arguments>
            <li>StarWars Animal Collection</li>
            <li>guy.starwarsanimalcollection</li>
            <li>StarWarsAnimalCollection</li>
        </arguments>
    </Operation>


    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.ModAnimalCommonality</modId>
        <key>testsMAC_StarWarsAnimalCollection</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="XmlExtensions.UseSetting">
                <modId>tests.ModAnimalCommonality</modId>
                <key>testsMAC_StarWarsAnimalCollectionk</key>
                <defaultValue>1</defaultValue>
                <apply>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[
                            defName="Dewback" or 
                            defName="Rancor" or 
                            defName="Bantha" or 
                            defName="Nexu" or 
                            defName="Acklay" or 
                            defName="Tauntaun" or 
                            defName="KraytDragon" or 
                            defName="Reek" or 
                            defName="Nerf" or 
                            defName="Gizka" or 
                            defName="Porg" or 
                            defName="Vulptex" or 
                            defName="Wampa"
                            ]/race/wildBiomes/*</xpath>
                        <value>{testsMAC_StarWarsAnimalCollectionk}</value>
                        <operation>*</operation>
                    </Operation>
                    <Operation Class="XmlExtensions.PatchOperationMath">
                        <success>Always</success>
                        <xpath>
                            Defs/BiomeDef/wildAnimals/Dewback | 
                            Defs/BiomeDef/wildAnimals/Rancor |
                            Defs/BiomeDef/wildAnimals/Bantha |
                            Defs/BiomeDef/wildAnimals/Nexu |
                            Defs/BiomeDef/wildAnimals/Acklay |
                            Defs/BiomeDef/wildAnimals/Tauntaun |
                            Defs/BiomeDef/wildAnimals/KraytDragon |
                            Defs/BiomeDef/wildAnimals/Reek |
                            Defs/BiomeDef/wildAnimals/Nerf |
                            Defs/BiomeDef/wildAnimals/Gizka |
                            Defs/BiomeDef/wildAnimals/Porg |
                            Defs/BiomeDef/wildAnimals/Vulptex |
                            Defs/BiomeDef/wildAnimals/Wampa
                        </xpath>
                        <value>{testsMAC_StarWarsAnimalCollectionk}</value>
                        <operation>*</operation>
                    </Operation>
                </apply>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <!-- Tribbles! -->
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>testspatches_actsingle</patchName>
        <arguments>
            <li>Tribbles!</li>
            <li>zal.tribbles</li>
            <li>Tribbles</li>
            <li>SHTribble</li>
        </arguments>
    </Operation>



    <Operation Class="XmlExtensions.MergeDocument">
        <docName>editmode</docName>
    </Operation>

    <Operation Class="XmlExtensions.MergeDocument">
        <docName>seemode</docName>
    </Operation>


    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.ModAnimalCommonality</modId>
        <key>testsMAC_logging</key>
        <defaultValue>false</defaultValue>
        <caseTrue>

            <Operation Class="XmlExtensions.Log">
                <success>Always</success>
                <text>Mod animal commonality debug - non-zeroes</text>
                <xpath>Defs/ThingDef[race/wildBiomes/*>0]/defName</xpath>
            </Operation>
            <Operation Class="XmlExtensions.StopwatchStop" />

        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>


</Patch>